   1               		.file	"nrk_events.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
  15               	.Ltext0:
  16               	.global	nrk_signal_create
  18               	nrk_signal_create:
  19               	.LFB3:
  20               	.LM1:
  21               	/* prologue: function */
  22               	/* frame size = 0 */
  23               	.LM2:
  24 0000 4091 0000 		lds r20,_nrk_signal_list
  25 0004 5091 0000 		lds r21,(_nrk_signal_list)+1
  26 0008 6091 0000 		lds r22,(_nrk_signal_list)+2
  27 000c 7091 0000 		lds r23,(_nrk_signal_list)+3
  28 0010 20E0      		ldi r18,lo8(0)
  29 0012 30E0      		ldi r19,hi8(0)
  30               	.L4:
  31 0014 DB01      		movw r26,r22
  32 0016 CA01      		movw r24,r20
  33 0018 022E      		mov r0,r18
  34 001a 00C0      		rjmp 2f
  35 001c B695      	1:	lsr r27
  36 001e A795      		ror r26
  37 0020 9795      		ror r25
  38 0022 8795      		ror r24
  39 0024 0A94      	2:	dec r0
  40 0026 02F4      		brpl 1b
  41               	.LVL0:
  42 0028 8170      		andi r24,lo8(1)
  43 002a 9070      		andi r25,hi8(1)
  44 002c 892B      		or r24,r25
  45 002e 01F4      		brne .L2
  46               	.LM3:
  47 0030 81E0      		ldi r24,lo8(1)
  48 0032 90E0      		ldi r25,hi8(1)
  49 0034 A0E0      		ldi r26,hlo8(1)
  50 0036 B0E0      		ldi r27,hhi8(1)
  51 0038 022E      		mov r0,r18
  52 003a 00C0      		rjmp 2f
  53 003c 880F      	1:	lsl r24
  54 003e 991F      		rol r25
  55 0040 AA1F      		rol r26
  56 0042 BB1F      		rol r27
  57 0044 0A94      	2:	dec r0
  58 0046 02F4      		brpl 1b
  59 0048 842B      		or r24,r20
  60 004a 952B      		or r25,r21
  61 004c A62B      		or r26,r22
  62 004e B72B      		or r27,r23
  63 0050 8093 0000 		sts _nrk_signal_list,r24
  64 0054 9093 0000 		sts (_nrk_signal_list)+1,r25
  65 0058 A093 0000 		sts (_nrk_signal_list)+2,r26
  66 005c B093 0000 		sts (_nrk_signal_list)+3,r27
  67               	.LM4:
  68 0060 822F      		mov r24,r18
  69               	.LVL1:
  70 0062 0895      		ret
  71               	.LVL2:
  72               	.L2:
  73 0064 2F5F      		subi r18,lo8(-(1))
  74 0066 3F4F      		sbci r19,hi8(-(1))
  75               	.LVL3:
  76               	.LM5:
  77 0068 2032      		cpi r18,32
  78 006a 3105      		cpc r19,__zero_reg__
  79 006c 01F4      		brne .L4
  80 006e 8FEF      		ldi r24,lo8(-1)
  81               	.LM6:
  82 0070 0895      		ret
  83               	.LFE3:
  85               	.global	nrk_signal_get_registered_mask
  87               	nrk_signal_get_registered_mask:
  88               	.LFB4:
  89               	.LM7:
  90               	/* prologue: function */
  91               	/* frame size = 0 */
  92               	.LM8:
  93 0072 E091 0000 		lds r30,nrk_cur_task_TCB
  94 0076 F091 0000 		lds r31,(nrk_cur_task_TCB)+1
  95 007a 6585      		ldd r22,Z+13
  96 007c 7685      		ldd r23,Z+14
  97               	.LM9:
  98 007e 8785      		ldd r24,Z+15
  99 0080 9089      		ldd r25,Z+16
 100               	/* epilogue start */
 101 0082 0895      		ret
 102               	.LFE4:
 104               	.global	nrk_signal_unregister
 106               	nrk_signal_unregister:
 107               	.LFB6:
 108               	.LM10:
 109               	.LVL4:
 110 0084 EF92      		push r14
 111 0086 FF92      		push r15
 112 0088 0F93      		push r16
 113 008a 1F93      		push r17
 114               	/* prologue: function */
 115               	/* frame size = 0 */
 116               	.LM11:
 117 008c 21E0      		ldi r18,lo8(1)
 118 008e 30E0      		ldi r19,hi8(1)
 119 0090 40E0      		ldi r20,hlo8(1)
 120 0092 50E0      		ldi r21,hhi8(1)
 121               	.LVL5:
 122 0094 00C0      		rjmp 2f
 123 0096 220F      	1:	lsl r18
 124 0098 331F      		rol r19
 125 009a 441F      		rol r20
 126 009c 551F      		rol r21
 127 009e 8A95      	2:	dec r24
 128 00a0 02F4      		brpl 1b
 129               	.LM12:
 130 00a2 E091 0000 		lds r30,nrk_cur_task_TCB
 131 00a6 F091 0000 		lds r31,(nrk_cur_task_TCB)+1
 132 00aa E584      		ldd r14,Z+13
 133 00ac F684      		ldd r15,Z+14
 134 00ae 0785      		ldd r16,Z+15
 135 00b0 1089      		ldd r17,Z+16
 136 00b2 DA01      		movw r26,r20
 137 00b4 C901      		movw r24,r18
 138               	.LVL6:
 139 00b6 8E21      		and r24,r14
 140 00b8 9F21      		and r25,r15
 141 00ba A023      		and r26,r16
 142 00bc B123      		and r27,r17
 143 00be 0097      		sbiw r24,0
 144 00c0 A105      		cpc r26,__zero_reg__
 145 00c2 B105      		cpc r27,__zero_reg__
 146 00c4 01F4      		brne .L10
 147 00c6 8FEF      		ldi r24,lo8(-1)
 148 00c8 00C0      		rjmp .L11
 149               	.L10:
 150               	.LM13:
 151 00ca 2095      		com r18
 152 00cc 3095      		com r19
 153 00ce 4095      		com r20
 154 00d0 5095      		com r21
 155               	.LVL7:
 156 00d2 E222      		and r14,r18
 157 00d4 F322      		and r15,r19
 158 00d6 0423      		and r16,r20
 159 00d8 1523      		and r17,r21
 160 00da E586      		std Z+13,r14
 161 00dc F686      		std Z+14,r15
 162 00de 0787      		std Z+15,r16
 163 00e0 108B      		std Z+16,r17
 164               	.LM14:
 165 00e2 8189      		ldd r24,Z+17
 166 00e4 9289      		ldd r25,Z+18
 167 00e6 A389      		ldd r26,Z+19
 168 00e8 B489      		ldd r27,Z+20
 169 00ea 8223      		and r24,r18
 170 00ec 9323      		and r25,r19
 171 00ee A423      		and r26,r20
 172 00f0 B523      		and r27,r21
 173 00f2 818B      		std Z+17,r24
 174 00f4 928B      		std Z+18,r25
 175 00f6 A38B      		std Z+19,r26
 176 00f8 B48B      		std Z+20,r27
 177 00fa 81E0      		ldi r24,lo8(1)
 178               	.LVL8:
 179               	.L11:
 180               	/* epilogue start */
 181               	.LM15:
 182 00fc 1F91      		pop r17
 183 00fe 0F91      		pop r16
 184 0100 FF90      		pop r15
 185 0102 EF90      		pop r14
 186 0104 0895      		ret
 187               	.LFE6:
 189               	.global	nrk_signal_register
 191               	nrk_signal_register:
 192               	.LFB7:
 193               	.LM16:
 194               	.LVL9:
 195               	/* prologue: function */
 196               	/* frame size = 0 */
 197               	.LM17:
 198 0106 682F      		mov r22,r24
 199 0108 7727      		clr r23
 200 010a 67FD      		sbrc r22,7
 201 010c 7095      		com r23
 202 010e 8091 0000 		lds r24,_nrk_signal_list
 203 0112 9091 0000 		lds r25,(_nrk_signal_list)+1
 204 0116 A091 0000 		lds r26,(_nrk_signal_list)+2
 205 011a B091 0000 		lds r27,(_nrk_signal_list)+3
 206               	.LVL10:
 207 011e 062E      		mov r0,r22
 208 0120 00C0      		rjmp 2f
 209 0122 B695      	1:	lsr r27
 210 0124 A795      		ror r26
 211 0126 9795      		ror r25
 212 0128 8795      		ror r24
 213 012a 0A94      	2:	dec r0
 214 012c 02F4      		brpl 1b
 215 012e 8170      		andi r24,lo8(1)
 216 0130 9070      		andi r25,hi8(1)
 217 0132 892B      		or r24,r25
 218 0134 01F4      		brne .L14
 219 0136 8FEF      		ldi r24,lo8(-1)
 220 0138 0895      		ret
 221               	.L14:
 222               	.LM18:
 223 013a E091 0000 		lds r30,nrk_cur_task_TCB
 224 013e F091 0000 		lds r31,(nrk_cur_task_TCB)+1
 225 0142 21E0      		ldi r18,lo8(1)
 226 0144 30E0      		ldi r19,hi8(1)
 227 0146 40E0      		ldi r20,hlo8(1)
 228 0148 50E0      		ldi r21,hhi8(1)
 229 014a 00C0      		rjmp 2f
 230 014c 220F      	1:	lsl r18
 231 014e 331F      		rol r19
 232 0150 441F      		rol r20
 233 0152 551F      		rol r21
 234 0154 6A95      	2:	dec r22
 235 0156 02F4      		brpl 1b
 236 0158 8585      		ldd r24,Z+13
 237 015a 9685      		ldd r25,Z+14
 238 015c A785      		ldd r26,Z+15
 239 015e B089      		ldd r27,Z+16
 240 0160 822B      		or r24,r18
 241 0162 932B      		or r25,r19
 242 0164 A42B      		or r26,r20
 243 0166 B52B      		or r27,r21
 244 0168 8587      		std Z+13,r24
 245 016a 9687      		std Z+14,r25
 246 016c A787      		std Z+15,r26
 247 016e B08B      		std Z+16,r27
 248 0170 81E0      		ldi r24,lo8(1)
 249               	.LM19:
 250 0172 0895      		ret
 251               	.LFE7:
 253               	.global	nrk_sem_create
 255               	nrk_sem_create:
 256               	.LFB14:
 257               	.LM20:
 258               	.LVL11:
 259               	/* prologue: function */
 260               	/* frame size = 0 */
 261               	.LM21:
 262 0174 80E0      		ldi r24,lo8(0)
 263 0176 90E0      		ldi r25,hi8(0)
 264               	.LVL12:
 265               	/* epilogue start */
 266 0178 0895      		ret
 267               	.LFE14:
 269               	.global	nrk_get_resource_index
 271               	nrk_get_resource_index:
 272               	.LFB15:
 273               	.LM22:
 274               	.LVL13:
 275               	/* prologue: function */
 276               	/* frame size = 0 */
 277               	.LM23:
 278 017a 8050      		subi r24,lo8(nrk_sem_list)
 279 017c 9040      		sbci r25,hi8(nrk_sem_list)
 280 017e 01F0      		breq .L20
 281 0180 8FEF      		ldi r24,lo8(-1)
 282               	.LVL14:
 283 0182 0895      		ret
 284               	.LVL15:
 285               	.L20:
 286 0184 80E0      		ldi r24,lo8(0)
 287               	.LVL16:
 288               	.LVL17:
 289               	.LM24:
 290 0186 0895      		ret
 291               	.LFE15:
 293               	.global	nrk_sem_delete
 295               	nrk_sem_delete:
 296               	.LFB13:
 297               	.LM25:
 298               	.LVL18:
 299               	/* prologue: function */
 300               	/* frame size = 0 */
 301               	.LM26:
 302 0188 0E94 0000 		call nrk_get_resource_index
 303               	.LVL19:
 304               	.LM27:
 305 018c 8F3F      		cpi r24,lo8(-1)
 306               	.LVL20:
 307 018e 01F4      		brne .L24
 308 0190 81E0      		ldi r24,lo8(1)
 309               	.LVL21:
 310 0192 00C0      		rjmp .L28
 311               	.LVL22:
 312               	.L24:
 313               	.LM28:
 314 0194 8130      		cpi r24,lo8(1)
 315 0196 01F4      		brne .L26
 316 0198 82E0      		ldi r24,lo8(2)
 317               	.LVL23:
 318               	.L28:
 319 019a 0E94 0000 		call _nrk_errno_set
 320 019e 8FEF      		ldi r24,lo8(-1)
 321 01a0 0895      		ret
 322               	.LVL24:
 323               	.L26:
 324               	.LM29:
 325 01a2 9927      		clr r25
 326 01a4 87FD      		sbrc r24,7
 327 01a6 9095      		com r25
 328               	.LVL25:
 329 01a8 FC01      		movw r30,r24
 330 01aa EE0F      		lsl r30
 331 01ac FF1F      		rol r31
 332 01ae E80F      		add r30,r24
 333 01b0 F91F      		adc r31,r25
 334 01b2 E050      		subi r30,lo8(-(nrk_sem_list))
 335 01b4 F040      		sbci r31,hi8(-(nrk_sem_list))
 336 01b6 8FEF      		ldi r24,lo8(-1)
 337 01b8 8083      		st Z,r24
 338               	.LM30:
 339 01ba 8283      		std Z+2,r24
 340               	.LM31:
 341 01bc 8183      		std Z+1,r24
 342               	.LM32:
 343 01be 8091 0000 		lds r24,_nrk_resource_cnt
 344 01c2 8150      		subi r24,lo8(-(-1))
 345 01c4 8093 0000 		sts _nrk_resource_cnt,r24
 346 01c8 81E0      		ldi r24,lo8(1)
 347               	.LM33:
 348 01ca 0895      		ret
 349               	.LFE13:
 351               	.global	nrk_sem_query
 353               	nrk_sem_query:
 354               	.LFB10:
 355               	.LM34:
 356               	.LVL26:
 357               	/* prologue: function */
 358               	/* frame size = 0 */
 359               	.LM35:
 360 01cc 0E94 0000 		call nrk_get_resource_index
 361               	.LVL27:
 362               	.LM36:
 363 01d0 8F3F      		cpi r24,lo8(-1)
 364               	.LVL28:
 365 01d2 01F4      		brne .L30
 366 01d4 81E0      		ldi r24,lo8(1)
 367               	.LVL29:
 368 01d6 00C0      		rjmp .L34
 369               	.LVL30:
 370               	.L30:
 371               	.LM37:
 372 01d8 8130      		cpi r24,lo8(1)
 373 01da 01F4      		brne .L32
 374 01dc 82E0      		ldi r24,lo8(2)
 375               	.LVL31:
 376               	.L34:
 377 01de 0E94 0000 		call _nrk_errno_set
 378 01e2 8FEF      		ldi r24,lo8(-1)
 379 01e4 0895      		ret
 380               	.LVL32:
 381               	.L32:
 382               	.LM38:
 383 01e6 9927      		clr r25
 384 01e8 87FD      		sbrc r24,7
 385 01ea 9095      		com r25
 386               	.LVL33:
 387 01ec FC01      		movw r30,r24
 388 01ee EE0F      		lsl r30
 389 01f0 FF1F      		rol r31
 390 01f2 E80F      		add r30,r24
 391 01f4 F91F      		adc r31,r25
 392 01f6 E050      		subi r30,lo8(-(nrk_sem_list))
 393 01f8 F040      		sbci r31,hi8(-(nrk_sem_list))
 394 01fa 8281      		ldd r24,Z+2
 395               	.LVL34:
 396               	.LM39:
 397 01fc 0895      		ret
 398               	.LFE10:
 400               	.global	nrk_sem_post
 402               	nrk_sem_post:
 403               	.LFB12:
 404               	.LM40:
 405               	.LVL35:
 406 01fe 1F93      		push r17
 407 0200 CF93      		push r28
 408 0202 DF93      		push r29
 409               	/* prologue: function */
 410               	/* frame size = 0 */
 411               	.LM41:
 412 0204 0E94 0000 		call nrk_get_resource_index
 413               	.LVL36:
 414 0208 182F      		mov r17,r24
 415               	.LVL37:
 416               	.LM42:
 417 020a 8F3F      		cpi r24,lo8(-1)
 418 020c 01F4      		brne .L36
 419               	.LVL38:
 420 020e 81E0      		ldi r24,lo8(1)
 421               	.LVL39:
 422 0210 00C0      		rjmp .L44
 423               	.LVL40:
 424               	.L36:
 425               	.LM43:
 426 0212 8130      		cpi r24,lo8(1)
 427 0214 01F4      		brne .L38
 428 0216 82E0      		ldi r24,lo8(2)
 429               	.LVL41:
 430               	.L44:
 431 0218 0E94 0000 		call _nrk_errno_set
 432 021c 8FEF      		ldi r24,lo8(-1)
 433 021e 00C0      		rjmp .L37
 434               	.LVL42:
 435               	.L38:
 436               	.LM44:
 437 0220 9927      		clr r25
 438 0222 87FD      		sbrc r24,7
 439 0224 9095      		com r25
 440               	.LVL43:
 441 0226 EC01      		movw r28,r24
 442 0228 CC0F      		lsl r28
 443 022a DD1F      		rol r29
 444 022c C80F      		add r28,r24
 445 022e D91F      		adc r29,r25
 446 0230 C050      		subi r28,lo8(-(nrk_sem_list))
 447 0232 D040      		sbci r29,hi8(-(nrk_sem_list))
 448 0234 9A81      		ldd r25,Y+2
 449 0236 8881      		ld r24,Y
 450 0238 9817      		cp r25,r24
 451 023a 04F4      		brge .L45
 452               	.L39:
 453               	.LM45:
 454 023c 0E94 0000 		call nrk_int_disable
 455               	.LM46:
 456 0240 8A81      		ldd r24,Y+2
 457 0242 8F5F      		subi r24,lo8(-(1))
 458 0244 8A83      		std Y+2,r24
 459               	.LM47:
 460 0246 E091 0000 		lds r30,nrk_cur_task_TCB
 461 024a F091 0000 		lds r31,(nrk_cur_task_TCB)+1
 462 024e 1482      		std Z+4,__zero_reg__
 463 0250 E0E0      		ldi r30,lo8(nrk_task_TCB+7)
 464 0252 F0E0      		ldi r31,hi8(nrk_task_TCB+7)
 465               	.LM48:
 466 0254 212F      		mov r18,r17
 467 0256 3327      		clr r19
 468 0258 27FD      		sbrc r18,7
 469 025a 3095      		com r19
 470 025c 432F      		mov r20,r19
 471 025e 532F      		mov r21,r19
 472               	.LVL44:
 473               	.LM49:
 474 0260 63E0      		ldi r22,lo8(3)
 475               	.L41:
 476               	.LM50:
 477 0262 8081      		ld r24,Z
 478 0264 8230      		cpi r24,lo8(2)
 479 0266 01F4      		brne .L40
 480               	.LM51:
 481 0268 8285      		ldd r24,Z+10
 482 026a 9385      		ldd r25,Z+11
 483 026c A485      		ldd r26,Z+12
 484 026e B585      		ldd r27,Z+13
 485 0270 8217      		cp r24,r18
 486 0272 9307      		cpc r25,r19
 487 0274 A407      		cpc r26,r20
 488 0276 B507      		cpc r27,r21
 489 0278 01F4      		brne .L40
 490               	.LM52:
 491 027a 6283      		std Z+2,r22
 492               	.LM53:
 493 027c 1786      		std Z+15,__zero_reg__
 494 027e 1686      		std Z+14,__zero_reg__
 495               	.LM54:
 496 0280 1082      		st Z,__zero_reg__
 497               	.LM55:
 498 0282 1286      		std Z+10,__zero_reg__
 499 0284 1386      		std Z+11,__zero_reg__
 500 0286 1486      		std Z+12,__zero_reg__
 501 0288 1586      		std Z+13,__zero_reg__
 502               	.L40:
 503 028a B196      		adiw r30,33
 504               	.LM56:
 505 028c 80E0      		ldi r24,hi8(nrk_task_TCB+172)
 506 028e E030      		cpi r30,lo8(nrk_task_TCB+172)
 507 0290 F807      		cpc r31,r24
 508 0292 01F4      		brne .L41
 509               	.LM57:
 510 0294 0E94 0000 		call nrk_int_enable
 511               	.LVL45:
 512               	.L45:
 513 0298 81E0      		ldi r24,lo8(1)
 514               	.L37:
 515               	/* epilogue start */
 516               	.LM58:
 517 029a DF91      		pop r29
 518 029c CF91      		pop r28
 519 029e 1F91      		pop r17
 520               	.LVL46:
 521 02a0 0895      		ret
 522               	.LFE12:
 524               	.global	nrk_event_signal
 526               	nrk_event_signal:
 527               	.LFB8:
 528               	.LM59:
 529               	.LVL47:
 530 02a2 DF92      		push r13
 531 02a4 EF92      		push r14
 532 02a6 FF92      		push r15
 533 02a8 0F93      		push r16
 534 02aa 1F93      		push r17
 535               	/* prologue: function */
 536               	/* frame size = 0 */
 537               	.LM60:
 538 02ac 51E0      		ldi r21,lo8(1)
 539 02ae E52E      		mov r14,r21
 540 02b0 F12C      		mov r15,__zero_reg__
 541 02b2 012D      		mov r16,__zero_reg__
 542 02b4 112D      		mov r17,__zero_reg__
 543               	.LVL48:
 544 02b6 00C0      		rjmp 2f
 545 02b8 EE0C      	1:	lsl r14
 546 02ba FF1C      		rol r15
 547 02bc 001F      		rol r16
 548 02be 111F      		rol r17
 549 02c0 8A95      	2:	dec r24
 550 02c2 02F4      		brpl 1b
 551               	.LM61:
 552 02c4 8091 0000 		lds r24,_nrk_signal_list
 553 02c8 9091 0000 		lds r25,(_nrk_signal_list)+1
 554 02cc A091 0000 		lds r26,(_nrk_signal_list)+2
 555 02d0 B091 0000 		lds r27,(_nrk_signal_list)+3
 556               	.LVL49:
 557 02d4 8E21      		and r24,r14
 558 02d6 9F21      		and r25,r15
 559 02d8 A023      		and r26,r16
 560 02da B123      		and r27,r17
 561 02dc 0097      		sbiw r24,0
 562 02de A105      		cpc r26,__zero_reg__
 563 02e0 B105      		cpc r27,__zero_reg__
 564 02e2 01F4      		brne .L47
 565 02e4 81E0      		ldi r24,lo8(1)
 566 02e6 00C0      		rjmp .L55
 567               	.L47:
 568               	.LM62:
 569 02e8 0E94 0000 		call nrk_int_disable
 570 02ec E0E0      		ldi r30,lo8(nrk_task_TCB+7)
 571 02ee F0E0      		ldi r31,hi8(nrk_task_TCB+7)
 572 02f0 DD24      		clr r13
 573               	.LVL50:
 574               	.LM63:
 575 02f2 23E0      		ldi r18,lo8(3)
 576               	.L51:
 577               	.LM64:
 578 02f4 8081      		ld r24,Z
 579 02f6 8130      		cpi r24,lo8(1)
 580 02f8 01F4      		brne .L49
 581               	.LM65:
 582 02fa 8285      		ldd r24,Z+10
 583 02fc 9385      		ldd r25,Z+11
 584 02fe A485      		ldd r26,Z+12
 585 0300 B585      		ldd r27,Z+13
 586 0302 8E21      		and r24,r14
 587 0304 9F21      		and r25,r15
 588 0306 A023      		and r26,r16
 589 0308 B123      		and r27,r17
 590 030a 0097      		sbiw r24,0
 591 030c A105      		cpc r26,__zero_reg__
 592 030e B105      		cpc r27,__zero_reg__
 593 0310 01F0      		breq .L49
 594               	.LM66:
 595 0312 2283      		std Z+2,r18
 596               	.LM67:
 597 0314 1786      		std Z+15,__zero_reg__
 598 0316 1686      		std Z+14,__zero_reg__
 599               	.LM68:
 600 0318 1082      		st Z,__zero_reg__
 601               	.LM69:
 602 031a E286      		std Z+10,r14
 603 031c F386      		std Z+11,r15
 604 031e 0487      		std Z+12,r16
 605 0320 1587      		std Z+13,r17
 606 0322 DD24      		clr r13
 607 0324 D394      		inc r13
 608               	.L49:
 609               	.LM70:
 610 0326 8081      		ld r24,Z
 611 0328 8230      		cpi r24,lo8(2)
 612 032a 01F4      		brne .L50
 613               	.LM71:
 614 032c 8285      		ldd r24,Z+10
 615 032e 9385      		ldd r25,Z+11
 616 0330 A485      		ldd r26,Z+12
 617 0332 B585      		ldd r27,Z+13
 618 0334 8E15      		cp r24,r14
 619 0336 9F05      		cpc r25,r15
 620 0338 A007      		cpc r26,r16
 621 033a B107      		cpc r27,r17
 622 033c 01F4      		brne .L50
 623               	.LM72:
 624 033e 2283      		std Z+2,r18
 625               	.LM73:
 626 0340 1786      		std Z+15,__zero_reg__
 627 0342 1686      		std Z+14,__zero_reg__
 628               	.LM74:
 629 0344 1082      		st Z,__zero_reg__
 630               	.LM75:
 631 0346 1286      		std Z+10,__zero_reg__
 632 0348 1386      		std Z+11,__zero_reg__
 633 034a 1486      		std Z+12,__zero_reg__
 634 034c 1586      		std Z+13,__zero_reg__
 635 034e DD24      		clr r13
 636 0350 D394      		inc r13
 637               	.L50:
 638 0352 B196      		adiw r30,33
 639               	.LM76:
 640 0354 80E0      		ldi r24,hi8(nrk_task_TCB+172)
 641 0356 E030      		cpi r30,lo8(nrk_task_TCB+172)
 642 0358 F807      		cpc r31,r24
 643 035a 01F4      		brne .L51
 644               	.LM77:
 645 035c 0E94 0000 		call nrk_int_enable
 646               	.LM78:
 647 0360 DD20      		tst r13
 648 0362 01F0      		breq .L52
 649 0364 81E0      		ldi r24,lo8(1)
 650 0366 00C0      		rjmp .L48
 651               	.L52:
 652               	.LM79:
 653 0368 82E0      		ldi r24,lo8(2)
 654               	.L55:
 655 036a 0E94 0000 		call _nrk_errno_set
 656 036e 8FEF      		ldi r24,lo8(-1)
 657               	.L48:
 658               	/* epilogue start */
 659               	.LM80:
 660 0370 1F91      		pop r17
 661 0372 0F91      		pop r16
 662 0374 FF90      		pop r15
 663 0376 EF90      		pop r14
 664               	.LVL51:
 665 0378 DF90      		pop r13
 666               	.LVL52:
 667 037a 0895      		ret
 668               	.LFE8:
 670               	.global	nrk_signal_delete
 672               	nrk_signal_delete:
 673               	.LFB5:
 674               	.LM81:
 675               	.LVL53:
 676 037c EF92      		push r14
 677 037e FF92      		push r15
 678 0380 0F93      		push r16
 679 0382 1F93      		push r17
 680 0384 CF93      		push r28
 681 0386 DF93      		push r29
 682               	/* prologue: function */
 683               	/* frame size = 0 */
 684               	.LM82:
 685 0388 C82F      		mov r28,r24
 686 038a DD27      		clr r29
 687 038c C7FD      		sbrc r28,7
 688 038e D095      		com r29
 689 0390 61E0      		ldi r22,lo8(1)
 690 0392 E62E      		mov r14,r22
 691 0394 F12C      		mov r15,__zero_reg__
 692 0396 012D      		mov r16,__zero_reg__
 693 0398 112D      		mov r17,__zero_reg__
 694               	.LVL54:
 695 039a 0C2E      		mov r0,r28
 696 039c 00C0      		rjmp 2f
 697 039e EE0C      	1:	lsl r14
 698 03a0 FF1C      		rol r15
 699 03a2 001F      		rol r16
 700 03a4 111F      		rol r17
 701 03a6 0A94      	2:	dec r0
 702 03a8 02F4      		brpl 1b
 703               	.LM83:
 704 03aa 8091 0000 		lds r24,_nrk_signal_list
 705 03ae 9091 0000 		lds r25,(_nrk_signal_list)+1
 706 03b2 A091 0000 		lds r26,(_nrk_signal_list)+2
 707 03b6 B091 0000 		lds r27,(_nrk_signal_list)+3
 708               	.LVL55:
 709 03ba 8E21      		and r24,r14
 710 03bc 9F21      		and r25,r15
 711 03be A023      		and r26,r16
 712 03c0 B123      		and r27,r17
 713 03c2 0097      		sbiw r24,0
 714 03c4 A105      		cpc r26,__zero_reg__
 715 03c6 B105      		cpc r27,__zero_reg__
 716 03c8 01F4      		brne .L57
 717 03ca 8FEF      		ldi r24,lo8(-1)
 718 03cc 00C0      		rjmp .L58
 719               	.L57:
 720               	.LM84:
 721 03ce 0E94 0000 		call nrk_int_disable
 722 03d2 E0E0      		ldi r30,lo8(nrk_task_TCB+7)
 723 03d4 F0E0      		ldi r31,hi8(nrk_task_TCB+7)
 724               	.LM85:
 725 03d6 A801      		movw r20,r16
 726 03d8 9701      		movw r18,r14
 727 03da 2095      		com r18
 728 03dc 3095      		com r19
 729 03de 4095      		com r20
 730 03e0 5095      		com r21
 731               	.LM86:
 732 03e2 63E0      		ldi r22,lo8(3)
 733               	.L61:
 734               	.LM87:
 735 03e4 8181      		ldd r24,Z+1
 736 03e6 8F3F      		cpi r24,lo8(-1)
 737 03e8 01F0      		breq .L59
 738               	.LM88:
 739 03ea 8681      		ldd r24,Z+6
 740 03ec 9781      		ldd r25,Z+7
 741 03ee A085      		ldd r26,Z+8
 742 03f0 B185      		ldd r27,Z+9
 743 03f2 8E15      		cp r24,r14
 744 03f4 9F05      		cpc r25,r15
 745 03f6 A007      		cpc r26,r16
 746 03f8 B107      		cpc r27,r17
 747 03fa 01F4      		brne .L60
 748               	.LM89:
 749 03fc 1286      		std Z+10,__zero_reg__
 750 03fe 1386      		std Z+11,__zero_reg__
 751 0400 1486      		std Z+12,__zero_reg__
 752 0402 1586      		std Z+13,__zero_reg__
 753               	.LM90:
 754 0404 1082      		st Z,__zero_reg__
 755               	.LM91:
 756 0406 6283      		std Z+2,r22
 757               	.L60:
 758               	.LM92:
 759 0408 8681      		ldd r24,Z+6
 760 040a 9781      		ldd r25,Z+7
 761 040c A085      		ldd r26,Z+8
 762 040e B185      		ldd r27,Z+9
 763 0410 8223      		and r24,r18
 764 0412 9323      		and r25,r19
 765 0414 A423      		and r26,r20
 766 0416 B523      		and r27,r21
 767 0418 8683      		std Z+6,r24
 768 041a 9783      		std Z+7,r25
 769 041c A087      		std Z+8,r26
 770 041e B187      		std Z+9,r27
 771               	.LM93:
 772 0420 8285      		ldd r24,Z+10
 773 0422 9385      		ldd r25,Z+11
 774 0424 A485      		ldd r26,Z+12
 775 0426 B585      		ldd r27,Z+13
 776 0428 8223      		and r24,r18
 777 042a 9323      		and r25,r19
 778 042c A423      		and r26,r20
 779 042e B523      		and r27,r21
 780 0430 8287      		std Z+10,r24
 781 0432 9387      		std Z+11,r25
 782 0434 A487      		std Z+12,r26
 783 0436 B587      		std Z+13,r27
 784               	.L59:
 785 0438 B196      		adiw r30,33
 786               	.LM94:
 787 043a 80E0      		ldi r24,hi8(nrk_task_TCB+172)
 788 043c E030      		cpi r30,lo8(nrk_task_TCB+172)
 789 043e F807      		cpc r31,r24
 790 0440 01F4      		brne .L61
 791               	.LM95:
 792 0442 2EEF      		ldi r18,lo8(-2)
 793 0444 3FEF      		ldi r19,hi8(-2)
 794 0446 4FEF      		ldi r20,hlo8(-2)
 795 0448 5FEF      		ldi r21,hhi8(-2)
 796 044a 00C0      		rjmp 2f
 797 044c 220F      	1:	lsl r18
 798 044e 331F      		rol r19
 799 0450 441F      		rol r20
 800 0452 551F      		rol r21
 801 0454 CA95      	2:	dec r28
 802 0456 02F4      		brpl 1b
 803 0458 8091 0000 		lds r24,_nrk_signal_list
 804 045c 9091 0000 		lds r25,(_nrk_signal_list)+1
 805 0460 A091 0000 		lds r26,(_nrk_signal_list)+2
 806 0464 B091 0000 		lds r27,(_nrk_signal_list)+3
 807 0468 8223      		and r24,r18
 808 046a 9323      		and r25,r19
 809 046c A423      		and r26,r20
 810 046e B523      		and r27,r21
 811 0470 8093 0000 		sts _nrk_signal_list,r24
 812 0474 9093 0000 		sts (_nrk_signal_list)+1,r25
 813 0478 A093 0000 		sts (_nrk_signal_list)+2,r26
 814 047c B093 0000 		sts (_nrk_signal_list)+3,r27
 815               	.LM96:
 816 0480 0E94 0000 		call nrk_int_enable
 817 0484 81E0      		ldi r24,lo8(1)
 818               	.L58:
 819               	/* epilogue start */
 820               	.LM97:
 821 0486 DF91      		pop r29
 822 0488 CF91      		pop r28
 823 048a 1F91      		pop r17
 824 048c 0F91      		pop r16
 825 048e FF90      		pop r15
 826 0490 EF90      		pop r14
 827               	.LVL56:
 828 0492 0895      		ret
 829               	.LFE5:
 831               	.global	nrk_sem_pend
 833               	nrk_sem_pend:
 834               	.LFB11:
 835               	.LM98:
 836               	.LVL57:
 837 0494 1F93      		push r17
 838 0496 CF93      		push r28
 839 0498 DF93      		push r29
 840               	/* prologue: function */
 841               	/* frame size = 0 */
 842               	.LM99:
 843 049a 0E94 0000 		call nrk_get_resource_index
 844               	.LVL58:
 845 049e 182F      		mov r17,r24
 846               	.LVL59:
 847               	.LM100:
 848 04a0 8F3F      		cpi r24,lo8(-1)
 849 04a2 01F4      		brne .L65
 850               	.LVL60:
 851 04a4 81E0      		ldi r24,lo8(1)
 852               	.LVL61:
 853 04a6 00C0      		rjmp .L70
 854               	.LVL62:
 855               	.L65:
 856               	.LM101:
 857 04a8 8130      		cpi r24,lo8(1)
 858 04aa 01F4      		brne .L67
 859 04ac 82E0      		ldi r24,lo8(2)
 860               	.LVL63:
 861               	.L70:
 862 04ae 0E94 0000 		call _nrk_errno_set
 863 04b2 8FEF      		ldi r24,lo8(-1)
 864 04b4 00C0      		rjmp .L66
 865               	.LVL64:
 866               	.L67:
 867               	.LM102:
 868 04b6 0E94 0000 		call nrk_int_disable
 869               	.LVL65:
 870               	.LM103:
 871 04ba C12F      		mov r28,r17
 872 04bc DD27      		clr r29
 873 04be C7FD      		sbrc r28,7
 874 04c0 D095      		com r29
 875 04c2 FE01      		movw r30,r28
 876 04c4 EE0F      		lsl r30
 877 04c6 FF1F      		rol r31
 878 04c8 EC0F      		add r30,r28
 879 04ca FD1F      		adc r31,r29
 880 04cc E050      		subi r30,lo8(-(nrk_sem_list))
 881 04ce F040      		sbci r31,hi8(-(nrk_sem_list))
 882 04d0 8281      		ldd r24,Z+2
 883 04d2 8823      		tst r24
 884 04d4 01F4      		brne .L68
 885               	.LM104:
 886 04d6 E091 0000 		lds r30,nrk_cur_task_TCB
 887 04da F091 0000 		lds r31,(nrk_cur_task_TCB)+1
 888 04de 8781      		ldd r24,Z+7
 889 04e0 8260      		ori r24,lo8(2)
 890 04e2 8783      		std Z+7,r24
 891               	.LM105:
 892 04e4 812F      		mov r24,r17
 893 04e6 9927      		clr r25
 894 04e8 87FD      		sbrc r24,7
 895 04ea 9095      		com r25
 896 04ec A92F      		mov r26,r25
 897 04ee B92F      		mov r27,r25
 898               	.LVL66:
 899 04f0 818B      		std Z+17,r24
 900 04f2 928B      		std Z+18,r25
 901 04f4 A38B      		std Z+19,r26
 902 04f6 B48B      		std Z+20,r27
 903               	.LM106:
 904 04f8 0E94 0000 		call nrk_int_enable
 905               	.LVL67:
 906               	.LM107:
 907 04fc 80E0      		ldi r24,lo8(0)
 908 04fe 90E0      		ldi r25,hi8(0)
 909 0500 0E94 0000 		call nrk_wait_until_ticks
 910               	.LVL68:
 911               	.L68:
 912               	.LM108:
 913 0504 FE01      		movw r30,r28
 914 0506 EE0F      		lsl r30
 915 0508 FF1F      		rol r31
 916 050a EC0F      		add r30,r28
 917 050c FD1F      		adc r31,r29
 918 050e E050      		subi r30,lo8(-(nrk_sem_list))
 919 0510 F040      		sbci r31,hi8(-(nrk_sem_list))
 920 0512 8281      		ldd r24,Z+2
 921 0514 8150      		subi r24,lo8(-(-1))
 922 0516 8283      		std Z+2,r24
 923               	.LM109:
 924 0518 A091 0000 		lds r26,nrk_cur_task_TCB
 925 051c B091 0000 		lds r27,(nrk_cur_task_TCB)+1
 926 0520 8181      		ldd r24,Z+1
 927 0522 1B96      		adiw r26,11
 928 0524 8C93      		st X,r24
 929 0526 1B97      		sbiw r26,11
 930               	.LM110:
 931 0528 81E0      		ldi r24,lo8(1)
 932 052a 1496      		adiw r26,4
 933 052c 8C93      		st X,r24
 934               	.LM111:
 935 052e 0E94 0000 		call nrk_int_enable
 936 0532 81E0      		ldi r24,lo8(1)
 937               	.L66:
 938               	/* epilogue start */
 939               	.LM112:
 940 0534 DF91      		pop r29
 941 0536 CF91      		pop r28
 942 0538 1F91      		pop r17
 943               	.LVL69:
 944 053a 0895      		ret
 945               	.LFE11:
 947               	.global	nrk_event_wait
 949               	nrk_event_wait:
 950               	.LFB9:
 951               	.LM113:
 952               	.LVL70:
 953               	/* prologue: function */
 954               	/* frame size = 0 */
 955 053c 9B01      		movw r18,r22
 956 053e AC01      		movw r20,r24
 957               	.LM114:
 958 0540 E091 0000 		lds r30,nrk_cur_task_TCB
 959 0544 F091 0000 		lds r31,(nrk_cur_task_TCB)+1
 960 0548 8585      		ldd r24,Z+13
 961 054a 9685      		ldd r25,Z+14
 962 054c A785      		ldd r26,Z+15
 963 054e B089      		ldd r27,Z+16
 964 0550 8223      		and r24,r18
 965 0552 9323      		and r25,r19
 966 0554 A423      		and r26,r20
 967 0556 B523      		and r27,r21
 968 0558 0097      		sbiw r24,0
 969 055a A105      		cpc r26,__zero_reg__
 970 055c B105      		cpc r27,__zero_reg__
 971 055e 01F4      		brne .L72
 972               	.LVL71:
 973 0560 20E0      		ldi r18,lo8(0)
 974 0562 30E0      		ldi r19,hi8(0)
 975 0564 40E0      		ldi r20,hlo8(0)
 976 0566 50E0      		ldi r21,hhi8(0)
 977               	.LVL72:
 978 0568 00C0      		rjmp .L73
 979               	.LVL73:
 980               	.L72:
 981               	.LM115:
 982 056a 218B      		std Z+17,r18
 983 056c 328B      		std Z+18,r19
 984 056e 438B      		std Z+19,r20
 985 0570 548B      		std Z+20,r21
 986               	.LM116:
 987 0572 81E0      		ldi r24,lo8(1)
 988 0574 8783      		std Z+7,r24
 989               	.LM117:
 990 0576 0090 0000 		lds r0,nrk_wakeup_signal
 991 057a 00C0      		rjmp 2f
 992 057c 5695      	1:	lsr r21
 993 057e 4795      		ror r20
 994 0580 3795      		ror r19
 995 0582 2795      		ror r18
 996 0584 0A94      	2:	dec r0
 997 0586 02F4      		brpl 1b
 998 0588 C901      		movw r24,r18
 999               	.LVL74:
 1000 058a 8170      		andi r24,lo8(1)
 1001 058c 9070      		andi r25,hi8(1)
 1002 058e 892B      		or r24,r25
 1003 0590 01F0      		breq .L74
 1004               	.LM118:
 1005 0592 0E94 0000 		call nrk_wait_until_nw
 1006 0596 00C0      		rjmp .L75
 1007               	.L74:
 1008               	.LM119:
 1009 0598 80E0      		ldi r24,lo8(0)
 1010 059a 90E0      		ldi r25,hi8(0)
 1011 059c 0E94 0000 		call nrk_wait_until_ticks
 1012               	.L75:
 1013               	.LM120:
 1014 05a0 E091 0000 		lds r30,nrk_cur_task_TCB
 1015 05a4 F091 0000 		lds r31,(nrk_cur_task_TCB)+1
 1016 05a8 2189      		ldd r18,Z+17
 1017 05aa 3289      		ldd r19,Z+18
 1018 05ac 4389      		ldd r20,Z+19
 1019 05ae 5489      		ldd r21,Z+20
 1020               	.LVL75:
 1021               	.L73:
 1022               	.LM121:
 1023 05b0 B901      		movw r22,r18
 1024               	.LVL76:
 1025 05b2 CA01      		movw r24,r20
 1026               	/* epilogue start */
 1027 05b4 0895      		ret
 1028               	.LFE9:
 1030               		.comm _nrk_signal_list,4,1
 1031               		.comm nrk_idle_task_stk,128,1
 1032               		.comm nrk_kernel_stk_ptr,2,1
 1033               		.comm nrk_task_TCB,165,1
 1034               		.comm nrk_wakeup_signal,1,1
 1035               		.comm _nrk_readyQ,30,1
 1036               		.comm _free_node,2,1
 1037               		.comm _head_node,2,1
 1038               		.comm nrk_cur_task_prio,1,1
 1039               		.comm nrk_cur_task_TCB,2,1
 1040               		.comm nrk_high_ready_prio,1,1
 1041               		.comm nrk_high_ready_TCB,2,1
 1042               		.comm _nrk_resource_cnt,1,1
 1043               		.comm nrk_system_time,8,1
 1044               		.comm error_task,1,1
 1045               		.comm error_num,1,1
 1046               		.comm _nrk_cpu_state,1,1
 1047               		.comm next_next_wakeup,2,1
 1048               		.comm _nrk_prev_timer_val,1,1
 1049               		.comm _nrk_time_trigger,1,1
 1050               		.comm app_timer0_callback,2,1
 1051               		.comm app_timer0_prescale,1,1
 1052               		.comm nrk_sem_list,3,1
 1173               	.Letext0:
DEFINED SYMBOLS
                            *ABS*:00000000 nrk_events.c
C:\cygwin\tmp/ccleEfnj.s:2      *ABS*:0000003f __SREG__
C:\cygwin\tmp/ccleEfnj.s:3      *ABS*:0000003e __SP_H__
C:\cygwin\tmp/ccleEfnj.s:4      *ABS*:0000003d __SP_L__
C:\cygwin\tmp/ccleEfnj.s:5      *ABS*:00000034 __CCP__
C:\cygwin\tmp/ccleEfnj.s:6      *ABS*:00000000 __tmp_reg__
C:\cygwin\tmp/ccleEfnj.s:7      *ABS*:00000001 __zero_reg__
C:\cygwin\tmp/ccleEfnj.s:18     .text:00000000 nrk_signal_create
                            *COM*:00000004 _nrk_signal_list
C:\cygwin\tmp/ccleEfnj.s:87     .text:00000072 nrk_signal_get_registered_mask
                            *COM*:00000002 nrk_cur_task_TCB
C:\cygwin\tmp/ccleEfnj.s:106    .text:00000084 nrk_signal_unregister
C:\cygwin\tmp/ccleEfnj.s:191    .text:00000106 nrk_signal_register
C:\cygwin\tmp/ccleEfnj.s:255    .text:00000174 nrk_sem_create
C:\cygwin\tmp/ccleEfnj.s:271    .text:0000017a nrk_get_resource_index
                            *COM*:00000003 nrk_sem_list
C:\cygwin\tmp/ccleEfnj.s:295    .text:00000188 nrk_sem_delete
                            *COM*:00000001 _nrk_resource_cnt
C:\cygwin\tmp/ccleEfnj.s:353    .text:000001cc nrk_sem_query
C:\cygwin\tmp/ccleEfnj.s:402    .text:000001fe nrk_sem_post
                            *COM*:000000a5 nrk_task_TCB
C:\cygwin\tmp/ccleEfnj.s:526    .text:000002a2 nrk_event_signal
C:\cygwin\tmp/ccleEfnj.s:672    .text:0000037c nrk_signal_delete
C:\cygwin\tmp/ccleEfnj.s:833    .text:00000494 nrk_sem_pend
C:\cygwin\tmp/ccleEfnj.s:949    .text:0000053c nrk_event_wait
                            *COM*:00000001 nrk_wakeup_signal
                            *COM*:00000080 nrk_idle_task_stk
                            *COM*:00000002 nrk_kernel_stk_ptr
                            *COM*:0000001e _nrk_readyQ
                            *COM*:00000002 _free_node
                            *COM*:00000002 _head_node
                            *COM*:00000001 nrk_cur_task_prio
                            *COM*:00000001 nrk_high_ready_prio
                            *COM*:00000002 nrk_high_ready_TCB
                            *COM*:00000008 nrk_system_time
                            *COM*:00000001 error_task
                            *COM*:00000001 error_num
                            *COM*:00000001 _nrk_cpu_state
                            *COM*:00000002 next_next_wakeup
                            *COM*:00000001 _nrk_prev_timer_val
                            *COM*:00000001 _nrk_time_trigger
                            *COM*:00000002 app_timer0_callback
                            *COM*:00000001 app_timer0_prescale

UNDEFINED SYMBOLS
_nrk_errno_set
nrk_int_disable
nrk_int_enable
nrk_wait_until_ticks
nrk_wait_until_nw
__do_clear_bss
