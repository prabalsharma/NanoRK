   1               		.file	"nrk_stack_check.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
  15               	.Ltext0:
  16               	.global	nrk_stack_check_pid
  18               	nrk_stack_check_pid:
  19               	.LFB5:
  20               	.LM1:
  21               	.LVL0:
  22               	/* prologue: function */
  23               	/* frame size = 0 */
  24               	.LM2:
  25 0000 282F      		mov r18,r24
  26 0002 3327      		clr r19
  27 0004 27FD      		sbrc r18,7
  28 0006 3095      		com r19
  29 0008 F901      		movw r30,r18
  30 000a 54E0      		ldi r21,4
  31 000c EE0F      	1:	lsl r30
  32 000e FF1F      		rol r31
  33 0010 5A95      		dec r21
  34 0012 01F4      		brne 1b
  35 0014 E20F      		add r30,r18
  36 0016 F31F      		adc r31,r19
  37 0018 EE0F      		lsl r30
  38 001a FF1F      		rol r31
  39 001c E050      		subi r30,lo8(-(nrk_task_TCB+2))
  40 001e F040      		sbci r31,hi8(-(nrk_task_TCB+2))
  41 0020 0190      		ld __tmp_reg__,Z+
  42 0022 F081      		ld r31,Z
  43 0024 E02D      		mov r30,__tmp_reg__
  44               	.LM3:
  45 0026 8081      		ld r24,Z
  46               	.LVL1:
  47 0028 8535      		cpi r24,lo8(85)
  48 002a 01F0      		breq .L2
  49               	.LM4:
  50 002c 85E5      		ldi r24,lo8(85)
  51 002e 8083      		st Z,r24
  52 0030 8FEF      		ldi r24,lo8(-1)
  53 0032 0895      		ret
  54               	.L2:
  55               	.LM5:
  56 0034 F901      		movw r30,r18
  57 0036 95E0      		ldi r25,5
  58 0038 EE0F      	1:	lsl r30
  59 003a FF1F      		rol r31
  60 003c 9A95      		dec r25
  61 003e 01F4      		brne 1b
  62 0040 220F      		lsl r18
  63 0042 331F      		rol r19
  64 0044 E20F      		add r30,r18
  65 0046 F31F      		adc r31,r19
  66 0048 E050      		subi r30,lo8(-(nrk_task_TCB))
  67 004a F040      		sbci r31,hi8(-(nrk_task_TCB))
  68 004c 8081      		ld r24,Z
  69 004e 9181      		ldd r25,Z+1
  70 0050 8050      		subi r24,lo8(4352)
  71 0052 9141      		sbci r25,hi8(4352)
  72 0054 00F4      		brsh .L4
  73 0056 81E0      		ldi r24,lo8(1)
  74 0058 0895      		ret
  75               	.L4:
  76               	.LM6:
  77 005a 82E1      		ldi r24,lo8(18)
  78 005c 0E94 0000 		call nrk_error_add
  79 0060 8FEF      		ldi r24,lo8(-1)
  80               	.LM7:
  81 0062 0895      		ret
  82               	.LFE5:
  84               		.data
  85               	.LC0:
  86 0000 6375 723A 		.string	"cur: %d "
  86      2025 6420 
  86      00
  87               	.LC1:
  88 0009 626F 7474 		.string	"bottom = %x "
  88      6F6D 203D 
  88      2025 7820 
  88      00
  89               	.LC2:
  90 0016 6361 6E61 		.string	"canary = %x "
  90      7279 203D 
  90      2025 7820 
  90      00
  91               	.LC3:
  92 0023 7374 6B20 		.string	"stk = %x "
  92      3D20 2578 
  92      2000 
  93               	.LC4:
  94 002d 7463 6220 		.string	"tcb addr = %x\r\n"
  94      6164 6472 
  94      203D 2025 
  94      780D 0A00 
  95               	.LC5:
  96 003d 2564 3A20 		.string	"%d: bottom = %x "
  96      626F 7474 
  96      6F6D 203D 
  96      2025 7820 
  96      00
  97               		.text
  98               	.global	dump_stack_info
 100               	dump_stack_info:
 101               	.LFB3:
 102               	.LM8:
 103 0064 6F92      		push r6
 104 0066 7F92      		push r7
 105 0068 8F92      		push r8
 106 006a 9F92      		push r9
 107 006c AF92      		push r10
 108 006e BF92      		push r11
 109 0070 CF92      		push r12
 110 0072 DF92      		push r13
 111 0074 EF92      		push r14
 112 0076 FF92      		push r15
 113 0078 0F93      		push r16
 114 007a 1F93      		push r17
 115 007c CF93      		push r28
 116 007e DF93      		push r29
 117               	/* prologue: function */
 118               	/* frame size = 0 */
 119               	.LM9:
 120 0080 80E0      		ldi r24,lo8(__c.1989)
 121 0082 90E0      		ldi r25,hi8(__c.1989)
 122 0084 0E94 0000 		call nrk_kprintf
 123               	.LM10:
 124 0088 00D0      		rcall .
 125 008a 00D0      		rcall .
 126 008c 80E0      		ldi r24,lo8(.LC0)
 127 008e 90E0      		ldi r25,hi8(.LC0)
 128 0090 ADB7      		in r26,__SP_L__
 129 0092 BEB7      		in r27,__SP_H__
 130 0094 1296      		adiw r26,1+1
 131 0096 9C93      		st X,r25
 132 0098 8E93      		st -X,r24
 133 009a 1197      		sbiw r26,1
 134 009c E091 0000 		lds r30,nrk_cur_task_TCB
 135 00a0 F091 0000 		lds r31,(nrk_cur_task_TCB)+1
 136 00a4 8085      		ldd r24,Z+8
 137 00a6 9927      		clr r25
 138 00a8 87FD      		sbrc r24,7
 139 00aa 9095      		com r25
 140 00ac 1496      		adiw r26,3+1
 141 00ae 9C93      		st X,r25
 142 00b0 8E93      		st -X,r24
 143 00b2 1397      		sbiw r26,3
 144 00b4 0E94 0000 		call printf
 145               	.LM11:
 146 00b8 E091 0000 		lds r30,nrk_cur_task_TCB
 147 00bc F091 0000 		lds r31,(nrk_cur_task_TCB)+1
 148 00c0 0281      		ldd r16,Z+2
 149 00c2 1381      		ldd r17,Z+3
 150               	.LM12:
 151 00c4 80E0      		ldi r24,lo8(.LC1)
 152 00c6 90E0      		ldi r25,hi8(.LC1)
 153 00c8 EDB7      		in r30,__SP_L__
 154 00ca FEB7      		in r31,__SP_H__
 155 00cc 9283      		std Z+2,r25
 156 00ce 8183      		std Z+1,r24
 157 00d0 1483      		std Z+4,r17
 158 00d2 0383      		std Z+3,r16
 159 00d4 0E94 0000 		call printf
 160               	.LM13:
 161 00d8 EDB7      		in r30,__SP_L__
 162 00da FEB7      		in r31,__SP_H__
 163 00dc 3196      		adiw r30,1
 164 00de A0E0      		ldi r26,lo8(.LC2)
 165 00e0 CA2E      		mov r12,r26
 166 00e2 A0E0      		ldi r26,hi8(.LC2)
 167 00e4 DA2E      		mov r13,r26
 168 00e6 ADB7      		in r26,__SP_L__
 169 00e8 BEB7      		in r27,__SP_H__
 170 00ea 1296      		adiw r26,1+1
 171 00ec DC92      		st X,r13
 172 00ee CE92      		st -X,r12
 173 00f0 1197      		sbiw r26,1
 174 00f2 D801      		movw r26,r16
 175 00f4 8C91      		ld r24,X
 176 00f6 8283      		std Z+2,r24
 177 00f8 1382      		std Z+3,__zero_reg__
 178 00fa 0E94 0000 		call printf
 179               	.LM14:
 180 00fe 70E0      		ldi r23,lo8(.LC3)
 181 0100 E72E      		mov r14,r23
 182 0102 70E0      		ldi r23,hi8(.LC3)
 183 0104 F72E      		mov r15,r23
 184 0106 EDB7      		in r30,__SP_L__
 185 0108 FEB7      		in r31,__SP_H__
 186 010a F282      		std Z+2,r15
 187 010c E182      		std Z+1,r14
 188 010e E091 0000 		lds r30,nrk_cur_task_TCB
 189 0112 F091 0000 		lds r31,(nrk_cur_task_TCB)+1
 190 0116 8081      		ld r24,Z
 191 0118 9181      		ldd r25,Z+1
 192 011a ADB7      		in r26,__SP_L__
 193 011c BEB7      		in r27,__SP_H__
 194 011e 1496      		adiw r26,3+1
 195 0120 9C93      		st X,r25
 196 0122 8E93      		st -X,r24
 197 0124 1397      		sbiw r26,3
 198 0126 0E94 0000 		call printf
 199               	.LM15:
 200 012a 00E0      		ldi r16,lo8(.LC4)
 201 012c 10E0      		ldi r17,hi8(.LC4)
 202 012e EDB7      		in r30,__SP_L__
 203 0130 FEB7      		in r31,__SP_H__
 204 0132 1283      		std Z+2,r17
 205 0134 0183      		std Z+1,r16
 206 0136 8091 0000 		lds r24,nrk_cur_task_TCB
 207 013a 9091 0000 		lds r25,(nrk_cur_task_TCB)+1
 208 013e 9483      		std Z+4,r25
 209 0140 8383      		std Z+3,r24
 210 0142 0E94 0000 		call printf
 211 0146 C0E0      		ldi r28,lo8(nrk_task_TCB)
 212 0148 D0E0      		ldi r29,hi8(nrk_task_TCB)
 213 014a AA24      		clr r10
 214 014c BB24      		clr r11
 215 014e 0F90      		pop __tmp_reg__
 216 0150 0F90      		pop __tmp_reg__
 217 0152 0F90      		pop __tmp_reg__
 218 0154 0F90      		pop __tmp_reg__
 219               	.LM16:
 220 0156 60E0      		ldi r22,lo8(.LC5)
 221 0158 662E      		mov r6,r22
 222 015a 60E0      		ldi r22,hi8(.LC5)
 223 015c 762E      		mov r7,r22
 224               	.LM17:
 225 015e 4601      		movw r8,r12
 226               	.LM18:
 227 0160 6701      		movw r12,r14
 228               	.LM19:
 229 0162 7801      		movw r14,r16
 230               	.L7:
 231               	.LM20:
 232 0164 0A81      		ldd r16,Y+2
 233 0166 1B81      		ldd r17,Y+3
 234               	.LM21:
 235 0168 00D0      		rcall .
 236 016a 00D0      		rcall .
 237 016c 00D0      		rcall .
 238 016e EDB7      		in r30,__SP_L__
 239 0170 FEB7      		in r31,__SP_H__
 240 0172 3196      		adiw r30,1
 241 0174 ADB7      		in r26,__SP_L__
 242 0176 BEB7      		in r27,__SP_H__
 243 0178 1296      		adiw r26,1+1
 244 017a 7C92      		st X,r7
 245 017c 6E92      		st -X,r6
 246 017e 1197      		sbiw r26,1
 247 0180 B382      		std Z+3,r11
 248 0182 A282      		std Z+2,r10
 249 0184 1583      		std Z+5,r17
 250 0186 0483      		std Z+4,r16
 251 0188 0E94 0000 		call printf
 252               	.LM22:
 253 018c 0F90      		pop __tmp_reg__
 254 018e 0F90      		pop __tmp_reg__
 255 0190 EDB7      		in r30,__SP_L__
 256 0192 FEB7      		in r31,__SP_H__
 257 0194 3196      		adiw r30,1
 258 0196 ADB7      		in r26,__SP_L__
 259 0198 BEB7      		in r27,__SP_H__
 260 019a 1196      		adiw r26,1
 261 019c 8C92      		st X,r8
 262 019e 1197      		sbiw r26,1
 263 01a0 1296      		adiw r26,2
 264 01a2 9C92      		st X,r9
 265 01a4 D801      		movw r26,r16
 266 01a6 8C91      		ld r24,X
 267 01a8 8283      		std Z+2,r24
 268 01aa 1382      		std Z+3,__zero_reg__
 269 01ac 0E94 0000 		call printf
 270               	.LM23:
 271 01b0 EDB7      		in r30,__SP_L__
 272 01b2 FEB7      		in r31,__SP_H__
 273 01b4 C182      		std Z+1,r12
 274 01b6 D282      		std Z+2,r13
 275 01b8 8881      		ld r24,Y
 276 01ba 9981      		ldd r25,Y+1
 277 01bc 9483      		std Z+4,r25
 278 01be 8383      		std Z+3,r24
 279 01c0 0E94 0000 		call printf
 280               	.LM24:
 281 01c4 ADB7      		in r26,__SP_L__
 282 01c6 BEB7      		in r27,__SP_H__
 283 01c8 1196      		adiw r26,1
 284 01ca EC92      		st X,r14
 285 01cc 1197      		sbiw r26,1
 286 01ce 1296      		adiw r26,2
 287 01d0 FC92      		st X,r15
 288 01d2 1297      		sbiw r26,2
 289 01d4 1496      		adiw r26,3+1
 290 01d6 DC93      		st X,r29
 291 01d8 CE93      		st -X,r28
 292 01da 1397      		sbiw r26,3
 293 01dc 0E94 0000 		call printf
 294 01e0 0894      		sec
 295 01e2 A11C      		adc r10,__zero_reg__
 296 01e4 B11C      		adc r11,__zero_reg__
 297 01e6 A296      		adiw r28,34
 298               	.LM25:
 299 01e8 0F90      		pop __tmp_reg__
 300 01ea 0F90      		pop __tmp_reg__
 301 01ec 0F90      		pop __tmp_reg__
 302 01ee 0F90      		pop __tmp_reg__
 303 01f0 B5E0      		ldi r27,lo8(5)
 304 01f2 AB16      		cp r10,r27
 305 01f4 B104      		cpc r11,__zero_reg__
 306 01f6 01F0      		breq .+2
 307 01f8 00C0      		rjmp .L7
 308               	/* epilogue start */
 309               	.LM26:
 310 01fa DF91      		pop r29
 311 01fc CF91      		pop r28
 312 01fe 1F91      		pop r17
 313 0200 0F91      		pop r16
 314 0202 FF90      		pop r15
 315 0204 EF90      		pop r14
 316 0206 DF90      		pop r13
 317 0208 CF90      		pop r12
 318 020a BF90      		pop r11
 319 020c AF90      		pop r10
 320 020e 9F90      		pop r9
 321 0210 8F90      		pop r8
 322 0212 7F90      		pop r7
 323 0214 6F90      		pop r6
 324 0216 0895      		ret
 325               	.LFE3:
 327               	.global	nrk_stack_check
 329               	nrk_stack_check:
 330               	.LFB4:
 331               	.LM27:
 332 0218 CF93      		push r28
 333 021a DF93      		push r29
 334               	/* prologue: function */
 335               	/* frame size = 0 */
 336               	.LM28:
 337 021c E091 0000 		lds r30,nrk_cur_task_TCB
 338 0220 F091 0000 		lds r31,(nrk_cur_task_TCB)+1
 339 0224 C281      		ldd r28,Z+2
 340 0226 D381      		ldd r29,Z+3
 341               	.LM29:
 342 0228 8881      		ld r24,Y
 343 022a 8535      		cpi r24,lo8(85)
 344 022c 01F0      		breq .L11
 345               	.LM30:
 346 022e 0E94 0000 		call dump_stack_info
 347               	.LM31:
 348 0232 81E0      		ldi r24,lo8(1)
 349 0234 0E94 0000 		call nrk_error_add
 350               	.LM32:
 351 0238 85E5      		ldi r24,lo8(85)
 352 023a 8883      		st Y,r24
 353               	.L11:
 354               	.LM33:
 355 023c E091 0000 		lds r30,nrk_cur_task_TCB
 356 0240 F091 0000 		lds r31,(nrk_cur_task_TCB)+1
 357 0244 8081      		ld r24,Z
 358 0246 9181      		ldd r25,Z+1
 359 0248 8050      		subi r24,lo8(4352)
 360 024a 9141      		sbci r25,hi8(4352)
 361 024c 00F0      		brlo .L13
 362               	.LM34:
 363 024e 0E94 0000 		call dump_stack_info
 364               	.LM35:
 365 0252 82E1      		ldi r24,lo8(18)
 366 0254 0E94 0000 		call nrk_error_add
 367               	.L13:
 368               	/* epilogue start */
 369               	.LM36:
 370 0258 DF91      		pop r29
 371 025a CF91      		pop r28
 372 025c 0895      		ret
 373               	.LFE4:
 375               		.section	.progmem.data,"a",@progbits
 378               	__c.1989:
 379 0000 0D0A 5354 		.string	"\r\nSTACK DUMP\r\n"
 379      4143 4B20 
 379      4455 4D50 
 379      0D0A 00
 380               		.comm systemCeiling,4,1
 381               		.comm _nrk_signal_list,4,1
 382               		.comm nrk_idle_task_stk,128,1
 383               		.comm nrk_kernel_stk_ptr,2,1
 384               		.comm error_task,1,1
 385               		.comm error_num,1,1
 426               	.Letext0:
DEFINED SYMBOLS
                            *ABS*:00000000 nrk_stack_check.c
C:\cygwin\tmp/ccGWlzvv.s:2      *ABS*:0000003f __SREG__
C:\cygwin\tmp/ccGWlzvv.s:3      *ABS*:0000003e __SP_H__
C:\cygwin\tmp/ccGWlzvv.s:4      *ABS*:0000003d __SP_L__
C:\cygwin\tmp/ccGWlzvv.s:5      *ABS*:00000034 __CCP__
C:\cygwin\tmp/ccGWlzvv.s:6      *ABS*:00000000 __tmp_reg__
C:\cygwin\tmp/ccGWlzvv.s:7      *ABS*:00000001 __zero_reg__
C:\cygwin\tmp/ccGWlzvv.s:18     .text:00000000 nrk_stack_check_pid
C:\cygwin\tmp/ccGWlzvv.s:100    .text:00000064 dump_stack_info
C:\cygwin\tmp/ccGWlzvv.s:378    .progmem.data:00000000 __c.1989
C:\cygwin\tmp/ccGWlzvv.s:329    .text:00000218 nrk_stack_check
                            *COM*:00000004 systemCeiling
                            *COM*:00000004 _nrk_signal_list
                            *COM*:00000080 nrk_idle_task_stk
                            *COM*:00000002 nrk_kernel_stk_ptr
                            *COM*:00000001 error_task
                            *COM*:00000001 error_num

UNDEFINED SYMBOLS
nrk_task_TCB
nrk_error_add
nrk_kprintf
nrk_cur_task_TCB
printf
__do_copy_data
__do_clear_bss
